<html>
<head>
<link rel="stylesheet" href="manpage.css"><title>Tcl Reference Manual: gets</title><meta name="xsl-processor" content="Jochen Loewer (loewerj@hotmail.com), Rolf Ade (rolf@pointsman.de) et. al."><meta name="generator" content="$RCSfile: tmml-html.xsl,v $ $Revision: 1.12 $">
</head><body>
<div class="header">
<div class="navbar" align="center">
<a href="#SECTid81abd70">NAME</a>  <a href="#SECTid81abde8">SYNOPSIS</a>  <a href="#SECTid81abeb0">DESCRIPTION</a>  <a href="#SECTid81ac1a8">EXAMPLE</a>  <a href="#SECTid81ac270">SEE ALSO</a>  <a href="#SECTid81ac338">KEYWORDS</a>
</div><p class="notice">Documentation generated from Tcl CVS HEAD</p><hr class="navsep">
</div><div class="body">



<h2><a name="SECTid81abd70">NAME</a></h2><p class="namesection">
<b class="names">gets - </b><br>Read a line from a channel</p>
<h2><a name="SECTid81abde8">SYNOPSIS</a></h2><pre class="syntax">
<b class="cmd">gets</b> <i class="m">channelId</i> ?<i class="m">varName</i>?
</pre>


<h2><a name="SECTid81abeb0">DESCRIPTION</a></h2><p>This command reads the next line from <i>channelId</i>, returns everything
in the line up to (but not including) the end-of-line character(s), and
discards the end-of-line character(s).
</p><p>
<i>ChannelId</i> must be an identifier for an open channel such as the
Tcl standard input channel (<b>stdin</b>), the return value from an
invocation of <b>open</b> or <b class="cmd">socket</b>, or the result of a channel
creation command provided by a Tcl extension. The channel must have
been opened for input.
</p><p>If <i>varName</i> is omitted the line is returned as the result of the
command.
If <i>varName</i> is specified then the line is placed in the variable by
that name and the return value is a count of the number of characters
returned.
</p><p>If end of file occurs while scanning for an end of
line, the command returns whatever input is available up to the end of file.
If <i>channelId</i> is in nonblocking mode and there is not a full
line of input available, the command returns an empty string and
does not consume any input.
If <i>varName</i> is specified and an empty string is returned in
<i>varName</i> because of end-of-file or because of insufficient
data in nonblocking mode, then the return count is -1.
Note that if <i>varName</i> is not specified then the end-of-file
and no-full-line-available cases can
produce the same results as if there were an input line consisting
only of the end-of-line character(s).
The <b class="cmd">eof</b> and <b class="cmd">fblocked</b> commands can be used to distinguish
these three cases.
</p>
<h2><a name="SECTid81ac1a8">EXAMPLE</a></h2><p>This example reads a file one line at a time and prints it out with
the current line number attached to the start of each line.
</p><pre class="example">
set chan [open "some.file.txt"]
set lineNumber 0
while {[<b class="cmd">gets</b> $chan line] &gt;= 0} {
    puts "[incr lineNumber]: $line"
}
close $chan
</pre>
<h2><a name="SECTid81ac270">SEE ALSO</a></h2><p class="seealso">file(n), eof(n), fblocked(n), <a href="StdChannels.html">Tcl_StandardChannels(3)</a>
</p>
<h2><a name="SECTid81ac338">KEYWORDS</a></h2><p class="keywords">
<a class="keyword" href="keyword-index.html#KW-blocking">blocking</a>, <a class="keyword" href="keyword-index.html#KW-channel">channel</a>, <a class="keyword" href="keyword-index.html#KW-endoffile">end of file</a>, <a class="keyword" href="keyword-index.html#KW-endofline">end of line</a>, <a class="keyword" href="keyword-index.html#KW-line">line</a>, <a class="keyword" href="keyword-index.html#KW-nonblocking">nonblocking</a>, <a class="keyword" href="keyword-index.html#KW-read">read</a>
</p>
</div><hr class="navsep"><div class="navbar" align="center">
<a class="navaid" href="http://tmml.sourceforge.net/search.php">Search</a>  <a class="navaid" href="index.html">Contents</a>  <a class="navaid" href="category-index.html">Index</a>  <a class="navaid" href="keyword-index.html">Keywords</a>  <a class="navaid" href="http://tmml.sourceforge.net/coredocs.html">About...</a>
</div>
</body>
</html>
